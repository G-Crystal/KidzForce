/***************************
File generated by shrinker.ch
DateTime: 2017-03-20, 17:18:05
File list:
* classie.js
* modernizr.custom.js
* selectFx.js
* fullscreenForm.js
*****************************/
(function(t) {
    function r(a, b) {
        (q(a, b) ? d : c)(a, b)
    }
    var q, c, d;
    if ("classList" in document.documentElement) {
        q = function(a, b) {
            return a.classList.contains(b)
        };
        c = function(a, b) {
            a.classList.add(b)
        };
        d = function(a, b) {
            a.classList.remove(b)
        }
    } else {
        q = function(a, b) {
            return RegExp("(^|\\s+)" + b + "(\\s+|$)").test(a.className)
        };
        c = function(a, b) {
            if (!q(a, b)) a.className = a.className + " " + b
        };
        d = function(a, b) {
            a.className = a.className.replace(RegExp("(^|\\s+)" + b + "(\\s+|$)"), " ")
        }
    }
    var k = {
        hasClass: q,
        addClass: c,
        removeClass: d,
        toggleClass: r,
        has: q,
        add: c,
        remove: d,
        toggle: r
    };
    if (typeof define === "function" && define.amd) define(k);
    else t.classie = k
})(window);
window.Modernizr = function(t, r, q) {
    function c(l, j) {
        for (var u in l) {
            var s = l[u];
            if (!~("" + s).indexOf("-") && m[s] !== q) return j == "pfx" ? s : true
        }
        return false
    }

    function d(l, j, u) {
        var s = l.charAt(0).toUpperCase() + l.slice(1),
            z = (l + " " + o.join(s + " ") + s).split(" ");
        if (typeof j === "string" || typeof j === "undefined") j = c(z, j);
        else {
            z = (l + " " + F.join(s + " ") + s).split(" ");
            a: {
                l = z;
                for (var D in l) {
                    s = j[l[D]];
                    if (s !== q) {
                        j = u === false ? l[D] : typeof s === "function" ? s.bind(u || j) : s;
                        break a
                    }
                }
                j = false
            }
        }
        return j
    }
    var k = {},
        a = r.documentElement,
        b = r.createElement("modernizr"),
        m = b.style;
    t = " -webkit- -moz- -o- -ms- ".split(" ");
    var o = "Webkit Moz O ms".split(" "),
        F = "Webkit Moz O ms".toLowerCase().split(" ");
    b = {};
    var I = [],
        M = I.slice,
        J, R = {}.hasOwnProperty,
        N;
    typeof R !== "undefined" && typeof R.call !== "undefined" ? N = function(l, j) {
        return R.call(l, j)
    } : N = function(l, j) {
        return j in l && typeof l.constructor.prototype[j] === "undefined"
    };
    Function.prototype.bind || (Function.prototype.bind = function(l) {
        var j = this;
        if (typeof j != "function") throw new TypeError;
        var u = M.call(arguments, 1),
            s = function() {
                if (this instanceof s) {
                    var z = function() {};
                    z.prototype = j.prototype;
                    z = new z;
                    var D = j.apply(z, u.concat(M.call(arguments)));
                    return Object(D) === D ? D : z
                }
                return j.apply(l, u.concat(M.call(arguments)))
            };
        return s
    });
    b.cssanimations = function() {
        return d("animationName")
    };
    for (var Q in b) N(b, Q) && (J = Q.toLowerCase(), k[J] = b[Q](), I.push((k[J] ? "" : "no-") + J));
    k.addTest = function(l, j) {
        if (typeof l == "object")
            for (var u in l) N(l, u) && k.addTest(u, l[u]);
        else {
            l = l.toLowerCase();
            if (k[l] !== q) return k;
            j = typeof j == "function" ? j() : j;
            a.className += " " + (j ? "" : "no-") +
                l;
            k[l] = j
        }
        return k
    };
    m.cssText = "";
    return b = null,
        function(l, j) {
            function u() {
                var h = y.elements;
                return typeof h == "string" ? h.split(" ") : h
            }

            function s(h) {
                var g = A[h[f]];
                return g || (g = {}, p++, h[f] = p, A[p] = g), g
            }

            function z(h, g, e) {
                g || (g = j);
                if (v) return g.createElement(h);
                e || (e = s(g));
                var i;
                return e.cache[h] ? e.cache[h].cloneNode() : O.test(h) ? (e.cache[h] = e.createElem(h)).cloneNode() : i = e.createElem(h), i.canHaveChildren && !H.test(h) && !i.tagUrn ? e.frag.appendChild(i) : i
            }

            function D(h, g) {
                g.cache || (g.cache = {}, g.createElem = h.createElement,
                    g.createFrag = h.createDocumentFragment, g.frag = g.createFrag());
                h.createElement = function(e) {
                    return y.shivMethods ? z(e, h, g) : g.createElem(e)
                };
                h.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + u().join().replace(/[\w\-]+/g, function(e) {
                    return g.createElem(e), g.frag.createElement(e), 'c("' + e + '")'
                }) + ");return n}")(y, g.frag)
            }

            function K(h) {
                h || (h = j);
                var g = s(h);
                if (y.shivCSS)
                    if (!w)
                        if (!g.hasCSS) {
                            var e, i = h;
                            e = i.createElement("p");
                            i = i.getElementsByTagName("head")[0] ||
                                i.documentElement;
                            e = (e.innerHTML = "x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>", i.insertBefore(e.lastChild, i.firstChild));
                            g.hasCSS = !!e
                        }
                return v || D(h, g), h
            }
            var B = l.html5 || {},
                H = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
                O = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
                w, f = "_html5shiv",
                p = 0,
                A = {},
                v;
            (function() {
                try {
                    var h =
                        j.createElement("a");
                    h.innerHTML = "<xyz></xyz>";
                    w = "hidden" in h;
                    v = h.childNodes.length == 1 || function() {
                        j.createElement("a");
                        var e = j.createDocumentFragment();
                        return typeof e.cloneNode == "undefined" || typeof e.createDocumentFragment == "undefined" || typeof e.createElement == "undefined"
                    }()
                } catch (g) {
                    v = w = true
                }
            })();
            var y = {
                elements: B.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
                version: "3.7.0",
                shivCSS: B.shivCSS !== false,
                supportsUnknownElements: v,
                shivMethods: B.shivMethods !== false,
                type: "default",
                shivDocument: K,
                createElement: z,
                createDocumentFragment: function(h, g) {
                    h || (h = j);
                    if (v) return h.createDocumentFragment();
                    g = g || s(h);
                    for (var e = g.frag.cloneNode(), i = 0, x = u(), C = x.length; i < C; i++) e.createElement(x[i]);
                    return e
                }
            };
            l.html5 = y;
            K(j)
        }(this, r), k._version = "2.8.3", k._prefixes = t, k._domPrefixes = F, k._cssomPrefixes = o, k.testProp = function(l) {
            return c([l])
        }, k.testAllProps = d, k.testStyles = function(l,
            j, u, s) {
            var z, D, K, B, H = r.createElement("div"),
                O = r.body,
                w = O || r.createElement("body");
            if (parseInt(u, 10))
                for (; u--;) {
                    K = r.createElement("div");
                    K.id = s ? s[u] : "modernizr" + (u + 1);
                    H.appendChild(K)
                }
            return z = ['Â­<style id="smodernizr">', l, "</style>"].join(""), H.id = "modernizr", (O ? H : w).innerHTML += z, w.appendChild(H), O || (w.style.background = "", w.style.overflow = "hidden", B = a.style.overflow, a.style.overflow = "hidden", a.appendChild(w)), D = j(H, l), O ? H.parentNode.removeChild(H) : (w.parentNode.removeChild(w), a.style.overflow =
                B), !!D
        }, k.prefixed = function(l, j, u) {
            return j ? d(l, j, u) : d(l, "pfx")
        }, a.className = a.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (" js " + I.join(" ")), k
}(this, this.document);
(function(t, r, q) {
    function c(f) {
        return "[object Function]" == R.call(f)
    }

    function d(f) {
        return "string" == typeof f
    }

    function k() {}

    function a(f) {
        return !f || "loaded" == f || "complete" == f || "uninitialized" == f
    }

    function b() {
        var f = N.shift();
        Q = 1;
        f ? f.t ? M(function() {
            ("c" == f.t ? w.injectCss : w.injectJs)(f.s, 0, f.a, f.x, f.e, 1)
        }, 0) : (f(), b()) : Q = 0
    }

    function m(f, p, A, v, y, h, g) {
        function e(n) {
            if (!x && a(i.readyState) && (G.r = x = 1, !Q && b(), i.onload = i.onreadystatechange = null, n)) {
                "img" != f && M(function() {
                    u.removeChild(i)
                }, 50);
                for (var E in B[p]) B[p].hasOwnProperty(E) &&
                    B[p][E].onload()
            }
        }
        g = g || w.errorTimeout;
        var i = r.createElement(f),
            x = 0,
            C = 0,
            G = {
                t: A,
                s: p,
                e: y,
                a: h,
                x: g
            };
        1 === B[p] && (C = 1, B[p] = []);
        "object" == f ? i.data = p : (i.src = p, i.type = f);
        i.width = i.height = "0";
        i.onerror = i.onload = i.onreadystatechange = function() {
            e.call(this, C)
        };
        N.splice(v, 0, G);
        "img" != f && (C || 2 === B[p] ? (u.insertBefore(i, j ? null : J), M(e, g)) : B[p].push(i))
    }

    function o(f, p, A, v, y) {
        return Q = 0, p = p || "j", d(f) ? m("c" == p ? z : s, f, p, this.i++, A, v, y) : (N.splice(this.i++, 0, f), 1 == N.length && b()), this
    }

    function F() {
        var f = w;
        return f.loader = {
            load: o,
            i: 0
        }, f
    }
    var I = r.documentElement,
        M = t.setTimeout,
        J = r.getElementsByTagName("script")[0],
        R = {}.toString,
        N = [],
        Q = 0,
        l = "MozAppearance" in I.style,
        j = l && !!r.createRange().compareNode,
        u = j ? I : J.parentNode;
    I = t.opera && "[object Opera]" == R.call(t.opera);
    I = !!r.attachEvent && !I;
    var s = l ? "object" : I ? "script" : "img",
        z = I ? "script" : s,
        D = Array.isArray || function(f) {
            return "[object Array]" == R.call(f)
        },
        K = [],
        B = {},
        H = {
            timeout: function(f, p) {
                return p.length && (f.timeout = p[0]), f
            }
        },
        O, w;
    w = function(f) {
        function p(e) {
            e = e.split("!");
            var i = K.length,
                x = e.pop(),
                C = e.length;
            x = {
                url: x,
                origUrl: x,
                prefixes: e
            };
            var G, n, E;
            for (n = 0; n < C; n++) {
                E = e[n].split("=");
                (G = H[E.shift()]) && (x = G(x, E))
            }
            for (n = 0; n < i; n++) x = K[n](x);
            return x
        }

        function A(e, i, x, C, G) {
            var n = p(e),
                E = n.autoCallback;
            n.url.split(".").pop().split("?").shift();
            n.bypass || (i && (i = c(i) ? i : i[e] || i[C] || i[e.split("/").pop().split("?")[0]]), n.instead ? n.instead(e, i, x, C, G) : (B[n.url] ? n.noexec = true : B[n.url] = 1, x.load(n.url, n.forceCSS || !n.forceJS && "css" == n.url.split(".").pop().split("?").shift() ? "c" : q, n.noexec, n.attrs,
                n.timeout), (c(i) || c(E)) && x.load(function() {
                F();
                i && i(n.origUrl, G, C);
                E && E(n.origUrl, G, C);
                B[n.url] = 2
            })))
        }

        function v(e, i) {
            function x(L, V) {
                if (L)
                    if (d(L)) {
                        V || (n = function() {
                            var P = [].slice.call(arguments);
                            E.apply(this, P);
                            T()
                        });
                        A(L, n, i, 0, C)
                    } else {
                        if (Object(L) === L)
                            for (S in W = function() {
                                    var P = 0,
                                        U;
                                    for (U in L) L.hasOwnProperty(U) && P++;
                                    return P
                                }(), L) L.hasOwnProperty(S) && (!V && !--W && (c(n) ? n = function() {
                                var P = [].slice.call(arguments);
                                E.apply(this, P);
                                T()
                            } : n[S] = function(P) {
                                return function() {
                                    var U = [].slice.call(arguments);
                                    P && P.apply(this, U);
                                    T()
                                }
                            }(E[S])), A(L[S], n, i, S, C))
                    }
                else !V && T()
            }
            var C = !!e.test,
                G = e.load || e.both,
                n = e.callback || k,
                E = n,
                T = e.complete || k,
                W, S;
            x(C ? e.yep : e.nope, !!G);
            G && x(G)
        }
        var y, h, g = this.yepnope.loader;
        if (d(f)) A(f, 0, g, 0);
        else if (D(f))
            for (y = 0; y < f.length; y++) {
                h = f[y];
                d(h) ? A(h, 0, g, 0) : D(h) ? w(h) : Object(h) === h && v(h, g)
            } else Object(f) === f && v(f, g)
    };
    w.addPrefix = function(f, p) {
        H[f] = p
    };
    w.addFilter = function(f) {
        K.push(f)
    };
    w.errorTimeout = 1E4;
    null == r.readyState && r.addEventListener && (r.readyState = "loading", r.addEventListener("DOMContentLoaded",
        O = function() {
            r.removeEventListener("DOMContentLoaded", O, 0);
            r.readyState = "complete"
        }, 0));
    t.yepnope = F();
    t.yepnope.executeStack = b;
    t.yepnope.injectJs = function(f, p, A, v, y, h) {
        var g = r.createElement("script"),
            e, i;
        v = v || w.errorTimeout;
        g.src = f;
        for (i in A) g.setAttribute(i, A[i]);
        p = h ? b : p || k;
        g.onreadystatechange = g.onload = function() {
            !e && a(g.readyState) && (e = 1, p(), g.onload = g.onreadystatechange = null)
        };
        M(function() {
            e || (e = 1, p(1))
        }, v);
        y ? g.onload() : J.parentNode.insertBefore(g, J)
    };
    t.yepnope.injectCss = function(f, p, A, v, y, h) {
        v =
            r.createElement("link");
        var g;
        p = h ? b : p || k;
        v.href = f;
        v.rel = "stylesheet";
        v.type = "text/css";
        for (g in A) v.setAttribute(g, A[g]);
        y || (J.parentNode.insertBefore(v, J), M(p, 0))
    }
})(this, document);
Modernizr.load = function() {
    yepnope.apply(window, [].slice.call(arguments, 0))
};
Modernizr.addTest("csscalc", function() {
    var t = document.createElement("div");
    return t.style.cssText = "width:" + Modernizr._prefixes.join("calc(10px);width:"), !!t.style.length
});
Modernizr.addTest("cssvhunit", function() {
    var t;
    return Modernizr.testStyles("#modernizr { height: 50vh; }", function(r) {
        var q = parseInt(window.innerHeight / 2, 10);
        t = parseInt((window.getComputedStyle ? getComputedStyle(r, null) : r.currentStyle).height, 10) == q
    }), t
});
(function(t) {
    function r(c, d) {
        for (var k in d)
            if (d.hasOwnProperty(k)) c[k] = d[k];
        return c
    }

    function q(c, d) {
        this.el = c;
        this.options = r({}, this.options);
        r(this.options, d);
        this._init()
    }
    q.prototype.options = {
        newTab: true,
        stickyPlaceholder: true,
        onChange: function() {
            return false
        }
    };
    q.prototype._init = function() {
        var c = this.el.querySelector("option[selected]");
        this.hasDefaultPlaceholder = c && c.disabled;
        this.selectedOpt = c || this.el.querySelector("option");
        this._createSelectEl();
        this.selOpts = [].slice.call(this.selEl.querySelectorAll("li[data-option]"));
        this.selOptsCount = this.selOpts.length;
        this.current = this.selOpts.indexOf(this.selEl.querySelector("li.cs-selected")) || -1;
        this.selPlaceholder = this.selEl.querySelector("span.cs-placeholder");
        this._initEvents()
    };
    q.prototype._createSelectEl = function() {
        var c = "",
            d = function(a) {
                var b = "",
                    m = "",
                    o = "";
                if (a.selectedOpt && !this.foundSelected && !this.hasDefaultPlaceholder) {
                    m += "cs-selected ";
                    this.foundSelected = true
                }
                if (a.getAttribute("data-class")) m += a.getAttribute("data-class");
                if (a.getAttribute("data-link")) o = "data-link=" +
                    a.getAttribute("data-link");
                if (m !== "") b = 'class="' + m + '" ';
                return "<li " + b + o + ' data-option data-value="' + a.value + '"><span>' + a.textContent + "</span></li>"
            };
        [].slice.call(this.el.children).forEach(function(a) {
            if (!a.disabled) {
                var b = a.tagName.toLowerCase();
                if (b === "option") c += d(a);
                else if (b === "optgroup") {
                    c += '<li class="cs-optgroup"><span>' + a.label + "</span><ul>";
                    [].slice.call(a.children).forEach(function(m) {
                        c += d(m)
                    });
                    c += "</ul></li>"
                }
            }
        });
        var k = '<div class="cs-options"><ul>' + c + "</ul></div>";
        this.selEl = document.createElement("div");
        this.selEl.className = this.el.className;
        this.selEl.tabIndex = this.el.tabIndex;
        this.selEl.innerHTML = '<span class="cs-placeholder">' + this.selectedOpt.textContent + "</span>" + k;
        this.el.parentNode.appendChild(this.selEl);
        this.selEl.appendChild(this.el)
    };
    q.prototype._initEvents = function() {
        var c = this;
        this.selPlaceholder.addEventListener("click", function() {
            c._toggleSelect()
        });
        this.selOpts.forEach(function(d, k) {
            d.addEventListener("click", function() {
                c.current = k;
                c._changeOption();
                c._toggleSelect()
            })
        });
        document.addEventListener("click",
            function(d) {
                d = d.target;
                var k;
                if (k = c._isOpen())
                    if (k = d !== c.selEl) {
                        if (d) {
                            for (d = d.target || d.srcElement || d || false; d && d != c.selEl;) d = d.parentNode || false;
                            d = d !== false
                        } else d = false;
                        k = !d
                    }
                k && c._toggleSelect()
            });
        this.selEl.addEventListener("keydown", function(d) {
            switch (d.keyCode || d.which) {
                case 38:
                    d.preventDefault();
                    c._navigateOpts("prev");
                    break;
                case 40:
                    d.preventDefault();
                    c._navigateOpts("next");
                    break;
                case 32:
                    d.preventDefault();
                    c._isOpen() && typeof c.preSelCurrent != "undefined" && c.preSelCurrent !== -1 && c._changeOption();
                    c._toggleSelect();
                    break;
                case 13:
                    d.stopPropagation();
                    d.preventDefault();
                    if (c._isOpen() && typeof c.preSelCurrent != "undefined" && c.preSelCurrent !== -1) {
                        c._changeOption();
                        c._toggleSelect()
                    }
                    break;
                case 27:
                    d.preventDefault();
                    c._isOpen() && c._toggleSelect()
            }
        })
    };
    q.prototype._navigateOpts = function(c) {
        this._isOpen() || this._toggleSelect();
        var d = typeof this.preSelCurrent != "undefined" && this.preSelCurrent !== -1 ? this.preSelCurrent : this.current;
        if (c === "prev" && d > 0 || c === "next" && d < this.selOptsCount - 1) {
            this.preSelCurrent =
                c === "next" ? d + 1 : d - 1;
            this._removeFocus();
            classie.add(this.selOpts[this.preSelCurrent], "cs-focus")
        }
    };
    q.prototype._toggleSelect = function() {
        this._removeFocus();
        if (this._isOpen()) {
            if (this.current !== -1) {
                this.selPlaceholder.textContent = this.selOpts[this.current].textContent;
                console.log("updated")
            }
            classie.remove(this.selEl, "cs-active")
        } else {
            if (this.hasDefaultPlaceholder && this.options.stickyPlaceholder) this.selPlaceholder.textContent = this.selectedOpt.textContent;
            classie.add(this.selEl, "cs-active")
        }
    };
    q.prototype._changeOption =
        function() {
            if (typeof this.preSelCurrent != "undefined" && this.preSelCurrent !== -1) {
                this.current = this.preSelCurrent;
                this.preSelCurrent = -1
            }
            var c = this.selOpts[this.current];
            this.selPlaceholder.textContent = c.textContent;
            this.el.value = c.getAttribute("data-value");
            var d = this.selEl.querySelector("li.cs-selected");
            d && classie.remove(d, "cs-selected");
            classie.add(c, "cs-selected");
            if (c.getAttribute("data-link"))
                if (this.options.newTab) t.open(c.getAttribute("data-link"), "_blank");
                else t.location = c.getAttribute("data-link");
            this.options.onChange(this.el.value)
        };
    q.prototype._isOpen = function() {
        return classie.has(this.selEl, "cs-active")
    };
    q.prototype._removeFocus = function() {
        var c = this.selEl.querySelector("li.cs-focus");
        c && classie.remove(c, "cs-focus")
    };
    t.SelectFx = q
})(window);
(function(t) {
    function r(a, b) {
        for (var m in b)
            if (b.hasOwnProperty(m)) a[m] = b[m];
        return a
    }

    function q(a, b) {
        var m = document.createElement(a);
        if (b) {
            if (b.cName) m.className = b.cName;
            if (b.inner) m.innerHTML = b.inner;
            b.appendTo && b.appendTo.appendChild(m)
        }
        return m
    }

    function c(a, b) {
        this.el = a;
        this.options = r({}, this.options);
        r(this.options, b);
        this._init()
    }
    var d = {
            animations: Modernizr.cssanimations
        },
        k = {
            WebkitAnimation: "webkitAnimationEnd",
            OAnimation: "oAnimationEnd",
            msAnimation: "MSAnimationEnd",
            animation: "animationend"
        }[Modernizr.prefixed("animation")];
    c.prototype.options = {
        ctrlProgress: true,
        ctrlNavDots: true,
        ctrlNavPosition: true,
        onReview: function() {
            return false
        }
    };
    c.prototype._init = function() {
        this.formEl = this.el.querySelector("form");
        this.fieldsList = this.formEl.querySelector("ol.fs-fields");
        this.current = 0;
        this.fields = [].slice.call(this.fieldsList.children);
        this.fieldsCount = this.fields.length;
        classie.add(this.fields[this.current], "fs-current");
        this._addControls();
        this._addErrorMsg();
        this._initEvents()
    };
    c.prototype._addControls = function() {
        this.ctrls =
            q("div", {
                cName: "fs-controls",
                appendTo: this.el
            });
        this.ctrlContinue = q("button", {
            cName: "fs-continue",
            inner: "Continue",
            appendTo: this.ctrls
        });
        this._showCtrl(this.ctrlContinue);
        if (this.options.ctrlNavDots) {
            this.ctrlNav = q("nav", {
                cName: "fs-nav-dots",
                appendTo: this.ctrls
            });
            for (var a = "", b = 0; b < this.fieldsCount; ++b) a += b === this.current ? '<button class="fs-dot-current"></button>' : "<button disabled></button>";
            this.ctrlNav.innerHTML = a;
            this._showCtrl(this.ctrlNav);
            this.ctrlNavDots = [].slice.call(this.ctrlNav.children)
        }
        if (this.options.ctrlNavPosition) {
            this.ctrlFldStatus =
                q("span", {
                    cName: "fs-numbers",
                    appendTo: this.ctrls
                });
            this.ctrlFldStatusCurr = q("span", {
                cName: "fs-number-current",
                inner: Number(this.current + 1)
            });
            this.ctrlFldStatus.appendChild(this.ctrlFldStatusCurr);
            this.ctrlFldStatusTotal = q("span", {
                cName: "fs-number-total",
                inner: this.fieldsCount
            });
            this.ctrlFldStatus.appendChild(this.ctrlFldStatusTotal);
            this._showCtrl(this.ctrlFldStatus)
        }
        if (this.options.ctrlProgress) {
            this.ctrlProgress = q("div", {
                cName: "fs-progress",
                appendTo: this.ctrls
            });
            this._showCtrl(this.ctrlProgress)
        }
    };
    c.prototype._addErrorMsg = function() {
        this.msgError = q("span", {
            cName: "fs-message-error",
            appendTo: this.el
        })
    };
    c.prototype._initEvents = function() {
        var a = this;
        this.ctrlContinue.addEventListener("click", function() {
            console.log('clicked');
            a._nextField()
        });
        this.options.ctrlNavDots && this.ctrlNavDots.forEach(function(b, m) {
            b.addEventListener("click", function() {
                a._showField(m)
            })
        });
        this.fields.forEach(function(b) {
            if (b.hasAttribute("data-input-trigger")) {
                var m = b.querySelector('input[type="radio"]') || b.querySelector("select");
                if (m) switch (m.tagName.toLowerCase()) {
                    case "select":
                        m.addEventListener("change",
                            function() {
                                a._nextField()
                            });
                        break;
                    case "input":
                        [].slice.call(b.querySelectorAll('input[type="radio"]')).forEach(function(o) {
                            o.addEventListener("change", function() {
                                a._nextField()
                            })
                        })
                }
            }
        });
        document.addEventListener("keydown", function(b) {
            if (!a.isLastStep && b.target.tagName.toLowerCase() !== "textarea")
                if ((b.keyCode || b.which) === 13) {
                    b.preventDefault();
                    a._nextField()
                }
        })
    };

    window.wait = function wait(ms){
       var start = new Date().getTime();
       var end = start;
       while(end < start + ms) {
         end = new Date().getTime();
      }
    }

    c.prototype._nextField = function(a, b){
        if (window.cordova){ 
            window.cordova.plugins.Keyboard.close(); 
        }
        var __a = this;
        setTimeout(function(){
            __a._nextField_(a,b);
        },200);
    }

    c.prototype._nextField_ = function(a, b) {
        console.log('called');
        if (this.isLastStep || !this._validade() || this.isAnimating) return false;
        this.isAnimating = true;
        this.isLastStep =
            this.current === this.fieldsCount - 1 && a === undefined ? true : false;

        if (b==true){this.isLastStep=true;}
        // if (this.isLastStep==true){if (window.cordova){ window.cordova.plugins.Keyboard.close(); }}

        this._clearError();
        var b = this.fields[this.current];
        this.navdir = a !== undefined ? a < this.current ? "prev" : "next" : "next";
        this.current = a !== undefined ? a : this.current + 1;
        if (a === undefined) {
            this._progress();
            this.farthest = this.current
        }
        classie.add(this.fieldsList, "fs-display-" + this.navdir);
        classie.remove(b, "fs-current");
        classie.add(b, "fs-hide");
        if (!this.isLastStep) {
            this._updateNav();
            this._updateFieldNumber();
            var m = this.fields[this.current];
            classie.add(m,
                "fs-current");
            classie.add(m, "fs-show")
        }
        var o = this,
            F = function() {
                d.animations && this.removeEventListener(k, F);
                classie.remove(o.fieldsList, "fs-display-" + o.navdir);
                classie.remove(b, "fs-hide");
                if (o.isLastStep) {
                    o._hideCtrl(o.ctrlNav);
                    o._hideCtrl(o.ctrlProgress);
                    o._hideCtrl(o.ctrlContinue);
                    o._hideCtrl(o.ctrlFldStatus);
                    classie.remove(o.formEl, "fs-form-full");
                    classie.add(o.formEl, "fs-form-overview");
                    classie.add(o.formEl, "fs-show");
                    o.options.onReview()
                } else {
                    classie.remove(m, "fs-show");
                    if (o.options.ctrlNavPosition) {
                        o.ctrlFldStatusCurr.innerHTML =
                            o.ctrlFldStatusNew.innerHTML;
                        o.ctrlFldStatus.removeChild(o.ctrlFldStatusNew);
                        classie.remove(o.ctrlFldStatus, "fs-show-" + o.navdir)
                    }
                }
                o.isAnimating = false
            };
        if (d.animations)
            if (this.navdir === "next") this.isLastStep ? b.querySelector(".fs-anim-upper").addEventListener(k, F) : m.querySelector(".fs-anim-lower").addEventListener(k, F);
            else m.querySelector(".fs-anim-upper").addEventListener(k, F);
        else F()
    };
    c.prototype._showField = function(a) {
        if (a === this.current || a < 0 || a > this.fieldsCount - 1) return false;
        this._nextField(a)
    };
    c.prototype._updateFieldNumber = function() {
        if (this.options.ctrlNavPosition) {
            this.ctrlFldStatusNew = document.createElement("span");
            this.ctrlFldStatusNew.className = "fs-number-new";
            this.ctrlFldStatusNew.innerHTML = Number(this.current + 1);
            this.ctrlFldStatus.appendChild(this.ctrlFldStatusNew);
            var a = this;
            setTimeout(function() {
                classie.add(a.ctrlFldStatus, a.navdir === "next" ? "fs-show-next" : "fs-show-prev")
            }, 25)
        }
    };
    c.prototype._progress = function() {
        if (this.options.ctrlProgress) this.ctrlProgress.style.width = this.current *
            (100 / this.fieldsCount) + "%"
    };
    c.prototype._updateNav = function() {
        if (this.options.ctrlNavDots) {
            classie.remove(this.ctrlNav.querySelector("button.fs-dot-current"), "fs-dot-current");
            classie.add(this.ctrlNavDots[this.current], "fs-dot-current");
            this.ctrlNavDots[this.current].disabled = false
        }
    };
    c.prototype._showCtrl = function(a) {
        classie.add(a, "fs-show")
    };
    c.prototype._hideCtrl = function(a) {
        classie.remove(a, "fs-show")
    };
    c.prototype._validade = function() {
        var a = this.fields[this.current],
            b = a.querySelector("input[required]") ||
            a.querySelector("textarea[required]") || a.querySelector("select[required]"),
            m;
        console.log(b);
        window._input = b;
        if (!b) return true;

        var alreadyErrored = false;

        switch (b.tagName.toLowerCase()) {
            case "input":
                if (b.type === "radio" || b.type === "checkbox") {
                    var o = 0;
                    [].slice.call(a.querySelectorAll('input[type="' + b.type + '"]')).forEach(function(F) {
                        F.checked && ++o
                    });
                    o || (m = "NOVAL")
                } else if (b.value === "") m = "NOVAL"; 
                break;
            case "select":
                if (b.value === "" || b.value === "-1") m = "NOVAL"; 
                break;
            case "textarea":
                if (b.value === "") m = "NOVAL"; 
        }



        if (b.hasAttribute('child_card') && !alreadyErrored){
            if (b.value.indexOf('-') != 3 && b.value.length != 11){
                m = 'INVALIDCHILDCARD';
                alreadyErrored = true;
            }
        }

        if (b.hasAttribute('address_field') && !alreadyErrored){
            if (b.value.length <= 3){
                m = 'INVALIDADDRESS';
                alreadyErrored = true;
            }
        }


        if (b.hasAttribute('date') && !alreadyErrored){
            if (!moment(b.value + ' ' + $("#project_time").val()).isAfter(new Date())){
                m = 'INVALIDDATE';
                alreadyErrored = true;
            }
        }

        if (b.hasAttribute('birthdate') && !alreadyErrored){
            var amountOfYears = moment(new Date(b.value)).fromNow(true).replace(' years','');
            if (moment(new Date(b.value)).isAfter(new Date())){
                m = 'INVALIDBIRTHDATE';
                alreadyErrored = true;
            }

            if (amountOfYears.indexOf('hours') >= 0){
                m = 'INVALIDBIRTHDATE';
                alreadyErrored = true;
            }
            if (!(parseInt(amountOfYears) >= 7 && parseInt(amountOfYears) <= 17)){
                m = 'INVALIDBIRTHDATE';
                alreadyErrored = true;
            }
        }

        if (b.hasAttribute('ng-minlength') && !alreadyErrored){
            if (b.value.length < parseInt(b.attributes['ng-minlength'].value)){
                m = 'INVALIDMINLENGTH ' + (b.attributes['ng-minlength'].value);
                alreadyErrored = true;
            }
        }

        if (b.hasAttribute('ng-maxlength') && !alreadyErrored){
            if (b.value.length > parseInt(b.attributes['ng-maxlength'].value)){
                m = 'INVALIDMAXLENGTH ' + (b.attributes['ng-maxlength'].value);
                alreadyErrored = true;
            }
        }

        console.log(m);

        if (m != undefined) {
            this._showError(m);
            return false
        }
        return true
    };
    c.prototype._showError = function(a) {
        var b = "";
        switch (a) {
            case "NOVAL":
                b = "Please fill the field before continuing";
                break;
                break;
            case "INVALIDEMAIL":
                b = "Please fill a valid email address";
                break;
            case "INVALIDDATE":
                b = "Please fill a valid date and time in the future";
                break;
            case "INVALIDBIRTHDATE":
                b = "Your child must be at least 7 and no older than 17 to use this service.";
                break;
            case "INVALIDCHILDCARD":
                b = "Please enter a valid child id, e.g 123-123-123";
                break;
            case "INVALIDADDRESS":
                b = "Please enter a valid address";
                break;
        }

        if (a.indexOf("INVALIDMINLENGTH") > -1){
            b = "You must enter at least " + a.replace("INVALIDMINLENGTH ", "") + " characters.";
        }

        if (a.indexOf("INVALIDMAXLENGTH") > -1){
            b = "You can only enter " + a.replace("INVALIDMAXLENGTH ", "") + " characters.";
        }

        this.msgError.innerHTML = b;
        this._showCtrl(this.msgError)
    };
    c.prototype._clearError = function() {
        this._hideCtrl(this.msgError)
    };
    t.FForm = c
})(window);